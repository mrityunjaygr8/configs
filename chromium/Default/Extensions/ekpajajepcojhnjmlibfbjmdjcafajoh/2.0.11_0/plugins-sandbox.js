!function(e){function t(i){if(a[i])return a[i].exports;var s=a[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=338)}({338:function(module,exports,__webpack_require__){"use strict";var logger=window.console.log,pluginSandbox={parsers:{},youtubeApiKey:"",init:function(){var e=this;window.addEventListener("message",function(t){if(logger("## sandbox event",t.data),e.messageSource||(logger("## sandbox handshake complete"),e.messageSource=t.source,e.messageOrigin=t.origin),"loadScript"===t.data.type)e.loadScript(t.data);else if("getNext"===t.data.type)e.getNext(t.data.id);else if(t.data.id in e.parsers&&t.data.type in e.parsers[t.data.id]){var a=void 0;try{a=e.parsers[t.data.id][t.data.type](t.data.data)}catch(a){e.message({audius:!0,vuex:"commit",type:"error",data:"Error parsing "+t.data.id+". "+a})}["getYouTubeInfo","scanOneUrl","ajaxRaw","ajaxJSON"].includes(a.type)?e.message(Object.assign(a,{id:t.data.id,youtubeApiKey:e.youtubeApiKey})):"mediaList"===a.type?e.message({audius:!0,vuex:"dispatch",type:"webScraperUpdateSuccess",data:{id:t.data.id,mediaList:a.data}}):"noop"===a.type||e.message({audius:!0,vuex:"commit",type:"error",data:"Unknown plugin command "+a[0]+"."})}})},message:function(e){this.messageSource.postMessage(e,this.messageOrigin)},getNext:function(e){try{var t=this.parsers[e].getUrl();this.message(Object.assign(t,{id:e}))}catch(e){this.message({audius:!0,vuex:"commit",type:"error",data:"Error getting next page. "+e})}},loadScript:function loadScript(options){var id=options.id,code=options.code,youtubeApiKey=options.youtubeApiKey;this.parsers[id]&&this.message({audius:!0,vuex:"commit",type:"error",data:"Script '"+id+"' is already loaded"});try{this.parsers[id]=eval(code),options.responseTemplate&&this.message(options.responseTemplate),this.youtubeApiKey=youtubeApiKey,this.getNext(id)}catch(e){this.message({audius:!0,vuex:"commit",type:"error",data:"Error loading script. "+e})}}};logger("# Plugin sandbox"),pluginSandbox.init()}});