!function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){!function(n,o){"object"==typeof t&&t.exports&&"function"==typeof e?t.exports=o():"function"==typeof define&&"object"==typeof define.amd?define(o):n.log=o()}(this,function(){function e(e){return typeof console!==a&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):s)}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t){return function(){typeof console!==a&&(o(t),r[e].apply(r,arguments))}}function o(e){for(var t=0;t<l.length;t++){var n=l[t];r[n]=t<e?s:r.methodFactory(n,e)}}function i(e){var t=(l[e]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=t)}catch(e){}try{window.document.cookie="loglevel="+t+";"}catch(e){}}var r={},s=function(){},a="undefined",l=["trace","debug","info","warn","error"];r.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},r.methodFactory=function(t,o){return e(t)||n(t,o)},r.setLevel=function(e,t){if("string"==typeof e&&void 0!==r.levels[e.toUpperCase()]&&(e=r.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=r.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(!1!==t&&i(e),o(e),typeof console===a&&e<r.levels.SILENT)return"No console available for logging"},r.enableAll=function(e){r.setLevel(r.levels.TRACE,e)},r.disableAll=function(e){r.setLevel(r.levels.SILENT,e)};var c=typeof window!==a?window.log:void 0;return r.noConflict=function(){return typeof window!==a&&window.log===r&&(window.log=c),r},function(){var e;try{e=window.localStorage.loglevel}catch(e){}if(typeof e===a)try{e=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(e){}void 0===r.levels[e]&&(e="WARN"),r.setLevel(r.levels[e],!1)}(),r})},{}],2:[function(e,t,n){(function(e){!function(o){function i(e){throw new RangeError(S[e])}function r(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function s(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(q,"."),o+r(e.split("."),t).join(".")}function a(e){for(var t,n,o=[],i=0,r=e.length;i<r;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r?(n=e.charCodeAt(i++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),i--)):o.push(t);return o}function l(e){return r(e,function(e){var t="";return e>65535&&(e-=65536,t+=z(e>>>10&1023|55296),e=56320|1023&e),t+=z(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:R}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var o=0;for(e=n?M(e/T):e>>1,e+=M(e/t);e>j*N>>1;o+=R)e=M(e/j);return M(o+(j+1)*e/(e+x))}function d(e){var t,n,o,r,s,a,u,d,m,f,h=[],g=e.length,y=0,v=P,w=k;for(n=e.lastIndexOf(L),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&i("not-basic"),h.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<g;){for(s=y,a=1,u=R;r>=g&&i("invalid-input"),d=c(e.charCodeAt(r++)),(d>=R||d>M((E-y)/a))&&i("overflow"),y+=d*a,m=u<=w?_:u>=w+N?N:u-w,!(d<m);u+=R)f=R-m,a>M(E/f)&&i("overflow"),a*=f;t=h.length+1,w=p(y-s,t,0==s),M(y/t)>E-v&&i("overflow"),v+=M(y/t),y%=t,h.splice(y++,0,v)}return l(h)}function m(e){var t,n,o,r,s,l,c,d,m,f,h,g,y,v,w,b=[];for(e=a(e),g=e.length,t=P,n=0,s=k,l=0;l<g;++l)(h=e[l])<128&&b.push(z(h));for(o=r=b.length,r&&b.push(L);o<g;){for(c=E,l=0;l<g;++l)(h=e[l])>=t&&h<c&&(c=h);for(y=o+1,c-t>M((E-n)/y)&&i("overflow"),n+=(c-t)*y,t=c,l=0;l<g;++l)if(h=e[l],h<t&&++n>E&&i("overflow"),h==t){for(d=n,m=R;f=m<=s?_:m>=s+N?N:m-s,!(d<f);m+=R)w=d-f,v=R-f,b.push(z(u(f+w%v,0))),d=M(w/v);b.push(z(u(d,0))),s=p(n,y,o==r),n=0,++o}++n,++t}return b.join("")}function f(e){return s(e,function(e){return I.test(e)?d(e.slice(4).toLowerCase()):e})}function h(e){return s(e,function(e){return C.test(e)?"xn--"+m(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof t&&t&&!t.nodeType&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(o=v);var w,b,E=2147483647,R=36,_=1,N=26,x=38,T=700,k=72,P=128,L="-",I=/^xn--/,C=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=R-_,M=Math.floor,z=String.fromCharCode;if(w={version:"1.4.1",ucs2:{decode:a,encode:l},decode:d,encode:m,toASCII:h,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return w});else if(g&&y)if(t.exports==g)y.exports=w;else for(b in w)w.hasOwnProperty(b)&&(g[b]=w[b]);else o.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";function o(e){e&&(l.logLevel=e,a.setLevel(l.logLevel),console.info("logLevel:",l.logLevel))}function i(e){e&&(l.apiURL=e,console.info("api:",l.apiURL))}function r(e){e&&(l.newsServiceUrl=e,console.info("newsServiceUrl:",l.newsServiceUrl))}function s(e){e&&(l.authApiDomain=e,console.info("authApiDomain:",l.authApiDomain))}var a=e("loglevel"),l={logLevel:"silent",apiURL:"https://api.zcdn.de",apiURLs:["https://api.zcdn.de"],apiFront:"d1mvkhn4psrs16.cloudfront.net",geoRedirector:"https://geo.zenmate.com",websiteFront:"d21e7xkr9vlo60.cloudfront.net",websiteAssets:"du3rt6yhb1dqh.cloudfront.net",criticalWebsiteDomains:["zenmate.com"],websiteDomains:["zenmate.com","zenmate.ae","zenmate.ma","zenmate.dk","zenmate.at","zenmate.ch","zenmate.de","zenmate.li","zenmate.ca","zenmate.co.uk","zenmate.ie","zenmate.co.nz","zenmate.com.ar","zenmate.cl","zenmate.co","zenmate.es","zenmate.mx","zenmate.com.pa","zenmate.com.pe","zenmate.com.ve","zenmate.fi","zenmate.fr","zenmate.co.il","zenmate.in","zenmate.hu","zenmate.co.id","zenmate.is","zenmate.it","zenmate.jp","zenmate.kr","zenmate.lu","zenmate.lt","zenmate.lv","zenmate.my","zenmate.be","zenmate.nl","zenmate.pl","zenmate.com.br","zenmate.pt","zenmate.ro","zenmate.com.ru","zenmate.se","zenmate.sg","zenmate.com.ph","zenmate.com.tr","zenmate.pk","zenmate.vn","zenmate.hk"],domainFronts:"WyJhZGN0LmNhIiwiYWlydmlzdGFyYS5jb20iLCJhbGRpLmRlIiwiYW1pcmVudHN0YWJpbGl6ZWQuY29tIiwiYW5zd2VyYmFja21hY2hpbmUub3JnIiwiYXBpLnZvZC5nbG9ib3NhdC50diIsImFzaWF3ZWJkaXJlY3QuY29tIiwiYXdzLWJsb2cuaW8iLCJib21ib3JhdGVjaC5jb20uYXUiLCJjZG4taW1hZ2VzLm1haWxjaGltcC5jb20iLCJjZG4uZGV2LmFvcC5hY2VyLmNvbSIsImNkbi5lcmluY2FsbC5jb20iLCJjZi5kcm9wYm94cGF5bWVudHMuY29tIiwiY2hyb25pY2xlLmNvbSIsImNsYXNob2ZjbGFucy5jb20iLCJjbGllbnR1cGRhdGVzLmRyb3Bib3hzdGF0aWMuY29tIiwiY29ubmVjdGl2aXR5LmFtYXpvbndvcmtzcGFjZXMuY29tIiwiY3Jvc3NldC5vbndhcmQuY28uanAiLCJkZXJhdXRvcGlsb3QuY29tIiwiZGV2YnVpbGRzLnViZXIuY29tIiwiZGV2ZWxvcGVyLnNvbnkuY29tIiwiZGV2aWFudGFydC5jb20iLCJkZXZyZWwuanAiLCJkb3dubG9hZC5lcGljZ2FtZXMuY29tIiwiZXBzb24uY29tIiwiZmFuY3JlZC5vcmciLCJmaWZhY29ubmVjdC5vcmciLCJmaXRiaXQuY29tIiwiaGJyLm9yZyIsImhic3AuaGFydmFyZC5lZHUiLCJoc2N1Lm5ldCIsImh1Yi1vbG9neS5vcmciLCJpZmxpeC5jb20iLCJpbWFnZXMtbmEuc3NsLWltYWdlcy1hbWF6b24uY29tIiwiaW5mb2pvYnMubmV0IiwianRjbGFyay5jYSIsImtpY2tzdGFydGVyLmNvbSIsIm1lcmNhcmkuY29tIiwibWluZWNyYWZ0Lm5ldCIsIm1pdG1wcm94eS5vcmciLCJteHRvb2xib3guY29tIiwib2xhY2Ficy5jb20iLCJvcGVucmVwdXRhdGlvbi5uZXQiLCJxdWl6dXAuY29tIiwicmF6b3JzcWwuY29tIiwicm92ZXIuY29tIiwic2hhcmUub3JpZ2luLjljZG4ubmV0Iiwic21hbGxwZGYuY29tIiwic3RhdGljLnVuZS5lZHUuYXUiLCJzeXNhZG1pbmNhc3RzLmNvbSIsInRoYWlzbWlsZWFpci5jb20iLCJ1bmZvbGRpbmd3b3JkLm9yZyIsInZlcnNhbmQtc3RhdHVzLmRlIiwid2RjLmNvbSIsIndpbWR1LmNvbS50ciIsIndpbWR1LmRlIiwid293YWlyLmlzIiwid3d3LmFwdGx5LmluZm8iLCJ3d3cuYmViZXN0b3JlLmNvbS5iciIsInd3dy5jbWNtLmNvbSIsInd3dy5pa3VzYWxpYy5jb20iLCJ3d3cubHBnYS5vci5qcCIsInd3dy5wYXlwYWwtZHluYW1pYy5jb20iLCJ3d3cudGlyZWRwaXhlbC5jb20iLCJ3d3cudW5yb2xsLm1lIiwieWNvbWJpbmF0b3IuY29tIl0=",authApiDomain:"auth.zenmate.com",authApiDomains:["auth.zenmate.com"],newsServiceUrl:"https://crm.zenguard.biz",newsServiceUrls:["https://crm.zenguard.biz"],newsServiceFront:"d3h6bpau3gi7cm.cloudfront.net",connectionCheckDomains:[{url:"http://www.google.com.sg/gen_204",code:204},{url:"http://g.cn/generate_204",code:204},{url:"http://www.thinkdifferent.us",code:200},{url:"http://www.airport.us",code:200},{url:"http://detectportal.firefox.com/success.txt",code:200},{url:"http://captive.apple.com",code:200}],localDomains:["zenguard.biz","zcdn.de","zeus.pm","local","ip","fritz.box","kabel.box","invalid","intra","intranet","test","example","localhost","onion","i2p","lvh.me","vcap.me","127.0.0.1.xip.io","localtest.me","about:addons","about:newtab","about:preferences","about:config","about:debugging"],blackList:{"jid1-4P0kohSJxU1qGg@jetpack":"hola"},alternativeNodes:[],nodeOverrides:[],ruleOverrides:[{domains:["facebook.com"],hosts:["facebook.net","fbcdn.com","fbcdn.net","fbstatic-a.akamaihd.net","fbcdn-dragon-a.akamaihd.net"]}],blockedSites:["appnord.xyz"],ciuvoSettings:{base_url:"https://sp.zenmate.com/api/",tag:"z3Nnno43",campaign:"chrome"}};o("silent"),"undefined"!=typeof window&&(window.config=l),t.exports={get:function(){return l},setLogLevel:o,setApiURL:i,setNewsServiceUrl:r,setAuthApiDomain:s}},{loglevel:1}],4:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.listeners={}}return i(e,[{key:"off",value:function(e,t){return this.listeners[e]=this.listeners[e]?this.listeners[e].filter(function(e){return e!==t}):void 0}},{key:"on",value:function(e,t){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"trigger",value:function(e,t){if(this.listeners[e])return this.listeners[e].map(function(e){return e(t)})}}]),e}();t.exports=r},{}],5:[function(e,t,n){"use strict";var o=e("../config"),i=e("../util"),r={localDomains:o.get().localDomains,nodeOverrides:o.get().nodeOverrides,IPv4NotationRE:/^\d+\.\d+\.\d+\.\d+$/g,localIPsRE:/(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)/};t.exports={data:r,mergeRuleOverrides:function(e,t){if(!((e?e.length:void 0)>0))return[];if(!((t?t.length:void 0)>0))return e;var n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value,c=!0,u=!1,p=void 0;try{for(var d,m=t[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var f=d.value;f.domains.indexOf(l.domain)>-1&&(l.hosts=i.concatUnique(l.hosts||[],f.hosts||[]))}}catch(e){u=!0,p=e}finally{try{!c&&m.return&&m.return()}finally{if(u)throw p}}}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return e},nodeLookup:function(e,t){return e[t]||!1},compareHosts:function(e,t){var n=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;if(this.matchWildcardDomain(t,a))return a}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}},compareURLs:function(e,t){var n=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;if(a.test(t))return a}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}},dnsDomainIs:function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},matchWildcardDomain:function(e,t){var n=e===t,o=e.slice(-t.length)===t,i="."===e[e.lastIndexOf(t)-1];return n||o&&i},matchNodeOverride:function(e,t){var n=this,o=this.data.nodeOverrides.find(function(o){return o.target_cc===t&&n.compareHosts(o.hosts,e)});return!!o&&o.nodes},matchRules:function(e,t,n){if(e&&e.length){this.data.rulesWithOverrides||(e=this.mergeRuleOverrides(e,o.get().ruleOverrides));for(var i=0;i<e.length;i++){var r=e[i];if(this.matchWildcardDomain(t,r.domain)||r.hosts&&this.compareHosts(r.hosts,t))return i}}},_getProxyState:function(e,t,n){if(e=e.toLowerCase(),this.data.IPv4NotationRE.lastIndex=0,this.data.localIPsRE.lastIndex=0,!~t.indexOf(".")&&!~t.indexOf(":"))return"LOCAL";if(this.data.IPv4NotationRE.test(t)&&this.data.localIPsRE.test(t))return"LOCAL";var o=!0,i=!1,r=void 0;try{for(var s,a=this.data.localDomains[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value;if(this.matchWildcardDomain(t,l))return"LOCAL"}}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}var c=this.matchRules(n,t,e);return Number.isInteger(c)?n[c].cc:"DEFAULT"}}},{"../config":3,"../util":7}],6:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("../config"),r=e("../util"),s=e("./engine"),a=(e("loglevel"),function(e){e=e||s;var t=[],n=!0,i=!1,r=void 0;try{for(var a,l=Object.keys(e)[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value,u=e[c];switch(o(e[c])){case"function":t.push(c+": "+u.toString());break;case"object":t.push(c+": "+JSON.stringify(e[c]))}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}return"{ "+t.join(",")+" }"}),l="e.data.IPv4NotationRE = "+s.data.IPv4NotationRE.toString()+";\ne.data.localIPsRE = "+s.data.localIPsRE.toString()+";";n.exportPAC=function(e,t,n,o){return n=n||[],o=o||[],"/*ZenMate*/\nfunction FindProxyForURL(url, host) {\n\n  var e = "+a()+";\n  e.data.localDomains = e.data.localDomains.concat("+JSON.stringify(o)+");\n  "+l+"\n\n  e.data.defaultLocation = '"+e+"';\n  e.data.nodeDict = "+JSON.stringify(t)+";\n  e.data.rulesWithOverrides = "+JSON.stringify(s.mergeRuleOverrides(n,i.get().ruleOverrides))+";\n\n  var res = e._getProxyState(url, host, e.data.rulesWithOverrides);\n  var cc;\n  if (res === 'LOCAL' || res === 'DIRECT' || res === 'OFF') {return 'DIRECT'};\n  if (res === 'DEFAULT') {cc = e.data.defaultLocation} else {cc = res};\n  var override = e.matchNodeOverride(host, cc);\n  if (override) {cc = override};\n  return e.nodeLookup(e.data.nodeDict, cc) || 'DIRECT';\n}"},n.getProxyStateByURL=function(e,t,n){return n=n||[],t=t||r.parseURL(e).host||e,s._getProxyState(e,t,n)},n.getNodeDictFromLocations=function(e,t,n){e=e.concat(i.get().alternativeNodes);var o={},r=!0,s=!1,a=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value,p=u.nodes.slice(0,15).map(function(e){var t=e.replace("node.zenmate.io","zenguard.org").replace("node.zenguard.co","zenguard.co");return n?t:"HTTPS "+t+":443"});o[u.country_code]=p.join(";")}}catch(e){s=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}return o},n.matchRules=function(e,t,n){return s.matchRules(e,t,n)}},{"../config":3,"../util":7,"./engine":5,loglevel:1}],7:[function(e,t,n){"use strict";var o=function(){function e(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.generateInstallId=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.parseURL=function(e){var t=void 0,n=/^([^:]+):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i,o=e.match(n);return o?{scheme:o[1].toLowerCase(),host:o[2].toLowerCase(),port:o[3],path:o[4]||"/",fragment:o[5],local:(t=o[1].toLowerCase(),!["http","https"].includes(t))}:{}},n.getUTMSourcesFromURL=function(e){for(var t=void 0,o=n.parseURL(e),i=o.path,r=/[?&]([^=#]+)=([^&#]*)/g,s=[];t=r.exec(i);)0===t[1].indexOf("utm_")&&s.push(t[1]+"="+t[2]);return s.join(";")},n.concatUnique=function(e,t){return e.concat(t).filter(function(e,t,n){return n.indexOf(e)===t})},n.parseDate=function(e){var t=new Date(e);if(isNaN(t.getTime())){var n=e.split(" "),i=o(n,2),r=i[0],s=i[1],a=r.split("-"),l=s.split(":");return new Date(a[0],a[1]-1,a[2],l[0],l[1],l[2])}return t},n.shuffle=function(e){for(var t=e.length,n=null,o=null;0!==t;)o=Math.floor(Math.random()*t),t--,n=e[t],e[t]=e[o],e[o]=n;return e},n.chunk=function(e,t){t=t<=0?1:t;for(var n=[],o=0,i=e.length;o<i;)n.push(e.slice(o,o+=t));return n},n.isChrome="undefined"==typeof browser},{}],8:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o=n.PropTypes;t.exports={crmPopUp:o.shape({id:o.string.isRequired,headline:o.string.isRequired,description:o.string.isRequired,imageURL:o.string.isRequired,action:o.shape({url:o.string.isRequired,label:o.string.isRequired}).isRequired})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){"use strict";var o=e("../../background/emitter");t.exports=new o},{"../../background/emitter":4}],10:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("./events"),r=o.createClass({displayName:"Link",render:function(){var e=this.props,t=e.url,n=e.children,i=e.className;return o.createElement("a",{href:t,onClick:this.openLink,className:i},n)},openLink:function(e){e.preventDefault();var t=this.props,n=t.url,o=t.params,r=t.clickAction;r&&r(),i.trigger("openPage",{url:n,params:o})}});t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./events":9}],11:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("../../background/emitter"),l=(e("loglevel"),function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name=e,n.port=chrome.runtime.connect({name:e}),n.port.onMessage.addListener(n.handleMessage.bind(n)),n}return r(t,e),s(t,[{key:"handleMessage",value:function(e){this.listeners[e.subject]&&this.listeners[e.subject].forEach(function(t){return t(e.payload)})}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={subject:e,payload:t,timestamp:(new Date).valueOf()};return this.port.postMessage(n)}}]),t}(a));t.exports=l},{"../../background/emitter":4,loglevel:1}],12:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.Bacon:void 0!==t?t.Bacon:null,o="undefined"!=typeof window?window.React:void 0!==t?t.React:null,i="undefined"!=typeof window?window.ReactDOM:void 0!==t?t.ReactDOM:null,r="undefined"!=typeof window?window.ReactIntl:void 0!==t?t.ReactIntl:null,s=r.addLocaleData,a=r.IntlProvider,l="undefined"!=typeof window?window.locales:void 0!==t?t.locales:null,c=l.getLocalization,u=l.flattenMessages,p=(e("loglevel"),e("../url-resolver")),d=p.setLocale,m=p.getUrl,f=e("../events"),h=e("./views/index"),g=e("../message_handler"),y=e("../../../background/util"),v=y.parseDate,w=e("../router").router(),b=new g("popup"),E=new n.Bus,R=E.merge(n.fromEvent(b,"response:data")).filter(function(e){return e}),_=n.fromEvent(f,"header").merge(R.map(function(e){return e.promo}).filter(function(e){return e}).map(function(e){return{open:!0,view:e.view}})).toProperty({open:!1}),N=R.map(function(e){var t=e.language;return c(t)}).doAction(function(e){return s(e.locale_data)}).doAction(function(e){var t=e.country_code;return d(t)}).toProperty(),x=N.changes().map(function(e){return u(e.messages)}).toProperty(),T=R.combine(N,function(e,t){var n={},o=!0,i=!1,r=void 0;try{for(var s,a=e.locations[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var l=s.value;n[l.country_code]=t.messages.locations[l.country_code?l.country_code.toLowerCase():void 0]||l.location}}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}return n}),k=w.changes().filter(function(e){return"home"===e.current}).map(function(){return Math.random()}).toProperty(Math.random()).combine(R,function(e,t){if(x=[],!t.user)return x;if(t.user.is_premium){var n=v(t.user.premium_expires_at)-v(t.user.server_time);n=Math.ceil(n/1e3/60/60/24),n<8&&!t.user.has_recurring_subscription?x.push("renew_subscription"):x.push("premium_desktop_clients")}else t.user.is_premium||(x=x.concat(["free_get_premium","free_faster_speed","free_desktop_clients","free_smart_locations","free_more_locations","free_malware_blocking","free_tracking_protection"]));var o=Math.floor(e*x.length);return x[o]}),P=null;n.combineAsArray(R,w,_,P,N,x,T,k).onValues(function(e,t,n,r,s,l,c,u){return i.render(o.createElement(a,{locale:s.country_code,messages:l},o.createElement(h,Object.assign({debug:r,header:n,routes:t,countryNames:c,randomNews:u},s,e))),document.getElementById("app-container"))}),n.fromEvent(f,"toggleProxy").onValue(b,"send","request:toggleProxy"),n.fromEvent(f,"openPage").onValue(b,"send","request:openPage"),n.fromEvent(f,"signOut").onValue(function(){return window.close(),b.send("request:signOut")}),n.fromEvent(f,"hideHeader").onValue(function(e){return b.send("request:hide-"+e)}),n.fromEvent(f,"unblockProxySettings").onValue(function(){return b.send("request:unblockProxySettings")}),n.fromEvent(f,"confirmAccount").onValue(function(){return b.send("request:openPage",{url:m("account/signup?overlay=true")})}),n.fromEvent(f,"changeLanguage").onValue(function(e){return b.send("request:changeLanguage",e),location.hash="home"}),n.fromEvent(f,"dismissCRMPopUp").onValue(function(e){return b.send("request:dismissCRMPopUp",e)}),n.fromEvent(f,"locations:change").onValue(function(e){return location.hash="home",b.send("request:changeLocation",e)}),n.fromEvent(f,"toggleMalware").onValue(function(e){return b.send("request:toggleMalware",e)}),n.fromEvent(f,"toggleTracking").onValue(function(e){return b.send("request:toggleTracking",e)}),n.fromEvent(f,"updateRules").onValue(function(e){return b.send("request:updateRules",e)}),n.fromEvent(f,"toggleRules").onValue(function(e){return b.send("request:toggleRules",e)}),n.fromEvent(f,"favoriteLocations:add").onValue(function(e){return b.send("request:addFavoriteLocation",e)}),n.fromEvent(f,"favoriteLocations:remove").onValue(function(e){return b.send("request:removeFavoriteLocation",e)}),n.fromEvent(f,"switchSmartPrice").onValue(function(e){return b.send("request:switchSmartPrice",e)}),b.send("request:popupOpen");var L=chrome.extension.getBackgroundPage().window.popupData;L?E.push(L):b.send("request:data"),document.body.addEventListener("contextmenu",function(e){return e.preventDefault()})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../background/util":7,"../events":9,"../message_handler":11,"../router":51,"../url-resolver":52,"./views/index":33,loglevel:1}],13:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("../../../../../propTypes"),r=e("../../../events");t.exports=o.createClass({displayName:"CRMPopUp",propTypes:{popUp:i.crmPopUp},handleCloseButtonClick:function(){return r.trigger("dismissCRMPopUp",this.props.popUp.id)},handleActionButtonClick:function(){return r.trigger("openPage",{url:this.props.popUp.action.url}),r.trigger("dismissCRMPopUp",this.props.popUp.id)},render:function(){return o.createElement("div",{className:"crm-popup"},o.createElement("button",{className:"close-button",onClick:this.handleCloseButtonClick}),o.createElement("div",{className:"image"},o.createElement("img",{src:this.props.popUp.imageURL,alt:this.props.popUp.headline})),o.createElement("h1",{className:"headline"},this.props.popUp.headline),o.createElement("div",{className:"description"},this.props.popUp.description),o.createElement("div",{className:"action-button-wrapper"},o.createElement("button",{className:"action-button",onClick:this.handleActionButtonClick},this.props.popUp.action.label)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../propTypes":8,"../../../events":9}],14:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("./header");t.exports=o.createClass({displayName:"DebugPage",propTypes:{header:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,routes:o.PropTypes.object.isRequired,defaultLocation:o.PropTypes.object.isRequired,debug:o.PropTypes.object.isRequired,is_premium:o.PropTypes.bool.isRequired},render:function(){var e=this;return o.createElement("div",null,o.createElement(i,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.is_premium}),o.createElement("div",{className:"debug-container"},this.props.defaultLocation&&o.createElement("section",null,o.createElement("h3",null,"Connection"),o.createElement("p",null,"Currently connected to ",this.props.defaultLocation.country_name),o.createElement("p",null,"Nodes in order of likeliness to be active:"),o.createElement("ol",null,this.props.defaultLocation.nodes.map(function(e){return o.createElement("li",{key:e},e)}))),o.createElement("section",null,o.createElement("h3",null,"Debug Overrides"),o.createElement("ul",null,function(){var t=[];for(var n in e.props.debug){var i=e.props.debug[n];t.push(o.createElement("li",{key:n},o.createElement("strong",null,n),":",o.createElement("span",null,i)))}return t}()))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./header":17}],15:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null;t.exports=n.createClass({displayName:"FeatureItem",propTypes:{onClick:n.PropTypes.func,onChange:n.PropTypes.func,icon:n.PropTypes.string.isRequired,iconRetina:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired,description:n.PropTypes.string.isRequired,enabled:n.PropTypes.bool,arrow:n.PropTypes.bool},mixins:[o],render:function(){return n.createElement("li",{onClick:this.props.onClick,className:"feature-item"},n.createElement("img",{className:"icon "+(!1===this.props.enabled?"disabled":""),src:this.props.icon,srcSet:this.props.iconRetina+" 2x",alt:this.props.label}),n.createElement("span",{className:"name"},this.props.label),this.props.onChange?n.createElement("label",{className:"flat-switch"},n.createElement("input",{onChange:this.props.onChange,checked:this.props.enabled,type:"checkbox",className:"flat-switch-checkbox"}),n.createElement("div",{className:"flat-toggle"})):null,this.props.arrow?n.createElement("span",{className:"arrow"}):null,n.createElement("span",{className:"description"},this.props.description))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("../header"),a=e("../../../events"),l=e("./feature_item");t.exports=o.createClass({displayName:"Features",propTypes:{routes:o.PropTypes.object.isRequired,header:o.PropTypes.object.isRequired,user:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,features:o.PropTypes.object.isRequired},contextTypes:{intl:o.PropTypes.object.isRequired},toggleMalware:function(e){return a.trigger("toggleMalware",e.target.checked)},toggleTracking:function(e){return a.trigger("toggleTracking",e.target.checked)},teaser:function(e){return e.preventDefault(),a.trigger("header",{open:!0})},render:function(){return this.props.user?o.createElement("div",{id:"features"},o.createElement(s,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium}),o.createElement("section",{className:"feature-head "+(this.props.header.open?"fade":"")+" "+(this.props.user.is_premium?"":"teaser")},o.createElement("div",{className:"premium-title"},o.createElement("hr",null),o.createElement("span",null,o.createElement(r,{id:"popup.features.premium_title"})),o.createElement("hr",null)),o.createElement("ul",null,o.createElement("a",{href:"#rules"},o.createElement(l,{icon:"images/smartLocationsIcon.png",iconRetina:"images/smartLocationsIcon@2x.png",label:this.context.intl.formatMessage({id:"popup.features.on_demand"}),description:this.context.intl.formatMessage({id:"popup.features.on_demand_description"}),arrow:!0})),o.createElement(l,{onClick:this.props.user.is_premium?null:this.teaser,onChange:this.toggleMalware,icon:"images/antiMalwareIcon.png",iconRetina:"images/antiMalwareIcon@2x.png",label:this.context.intl.formatMessage({id:"popup.features.malware_blocking"}),description:this.context.intl.formatMessage({id:"popup.features.malware_blocking_description"}),enabled:this.props.features.malwareBlocking}),o.createElement(l,{onClick:this.props.user.is_premium?null:this.teaser,onChange:this.toggleTracking,icon:"images/trackingProtectionIcon.png",iconRetina:"images/trackingProtectionIcon@2x.png",label:this.context.intl.formatMessage({id:"popup.features.tracking_protection"}),description:this.context.intl.formatMessage({id:"popup.features.tracking_protection_description"}),enabled:this.props.features.trackingProtection}))),o.createElement("section",{className:"features-section"},o.createElement("div",{className:"builtin-title"},o.createElement("span",null,o.createElement(r,{id:"popup.features.builtin_title"})),o.createElement("hr",null)),o.createElement("div",{className:"builtin-container"},o.createElement("span",{className:"builtin-feature always-on"},o.createElement("strong",null,o.createElement(r,{id:"popup.features.always_on.first"})),o.createElement(r,{id:"popup.features.always_on.second"})),o.createElement("div",{className:"info-bubble left"},o.createElement(r,{id:"popup.features.always_on.description"})),o.createElement("span",{className:"builtin-feature nat"},o.createElement("strong",null,o.createElement(r,{id:"popup.features.nat_firewall.first"})),o.createElement(r,{id:"popup.features.nat_firewall.second"})),o.createElement("div",{className:"info-bubble center"},o.createElement(r,{id:"popup.features.nat_firewall.description"})),o.createElement("span",{className:"builtin-feature encryption"},o.createElement(r,{id:"popup.features.encrypted.first"})),o.createElement("div",{className:"info-bubble right"},o.createElement(r,{id:"popup.features.encrypted.description"}))))):o.createElement("div",null)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":9,"../header":17,"./feature_item":15}],17:[function(e,t,n){(function(n){"use strict"
;var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("../../../events"),r=e("./premium"),s="undefined"!=typeof window?window.React.addons.CSSTransitionGroup:void 0!==n?n.React.addons.CSSTransitionGroup:null;t.exports=o.createClass({displayName:"Header",propTypes:{routes:o.PropTypes.object.isRequired,header:o.PropTypes.object.isRequired,is_premium:o.PropTypes.bool.isRequired,showBack:o.PropTypes.bool},_close:function(){return i.trigger("hideHeader",this.props.header.view),i.trigger("header",{open:!1})},render:function(){var e=this,t=this.props.routes.previous?this.props.routes.previous+"-":"",n=""+t+this.props.routes.current;return o.createElement("header",{className:this.props.header.open?"open":""},function(){return e.props.showBack&&!e.props.header.open?o.createElement("a",{className:"back left",href:"#"+e.props.routes.previous}):e.props.header.open?o.createElement("button",{className:"close",onClick:e._close}):null}(),this.props.is_premium||this.props.header.open||this.props.header.forcePremiumLogo?o.createElement("img",{className:"logo",src:"images/zenmate-premium.png",srcSet:"images/zenmate-premium@2x.png 2x"}):o.createElement("img",{className:"logo",src:"images/zenmateLogo.png",srcSet:"images/zenmateLogo@2x.png 2x"}),o.createElement(s,{component:"div",transitionName:"header-body",transitionEnterTimeout:800,transitionLeaveTimeout:800},this.props.header.open?o.createElement(r,{route:n}):void 0))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":9,"./premium":18}],18:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("../../../link");t.exports=o.createClass({displayName:"PremiumHeader",render:function(){return o.createElement("div",{className:"header-body"},o.createElement("div",{className:"features-container"},o.createElement("div",{className:"premium-features speed"},o.createElement("h3",null,o.createElement(r,{id:"popup.premium.speed.heading"})),o.createElement("span",null,o.createElement(r,{id:"popup.premium.speed.copy"}))),o.createElement("div",{className:"premium-features locations"},o.createElement("h3",null,o.createElement(r,{id:"popup.premium.locations.heading"})),o.createElement("span",null,o.createElement(r,{id:"popup.premium.locations.copy"}))),o.createElement("div",{className:"premium-features clients"},o.createElement("h3",null,o.createElement(r,{id:"popup.premium.clients.heading"})),o.createElement("span",null,o.createElement(r,{id:"popup.premium.clients.copy"})))),o.createElement(s,{url:"account/premium",params:{utm_medium:"product",utm_source:"extension-popup",utm_campaign:"premium-promotion"},className:"cta-button"},o.createElement(r,{id:"popup.premium.cta"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../link":10}],19:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("./news"),a=e("../../../events"),l=e("../../../link"),c=e("../../../../../background/util"),u=c.parseDate;t.exports=o.createClass({displayName:"Bottom",propTypes:{randomNews:o.PropTypes.string.isRequired,user:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,rules:o.PropTypes.array.isRequired,news:o.PropTypes.any,language:o.PropTypes.string.isRequired},_onPremiumClick:function(e){return e.preventDefault(),a.trigger("header",{open:!0})},_getMessage:function(e){switch(e){case"premium_desktop_clients":return o.createElement(r,{id:"popup.home.news.premium.desktop_clients.copy",values:{desktop_clients:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-premium-desktop-clients"}},o.createElement(r,{id:"popup.home.news.premium.desktop_clients.desktop_clients"}))}});case"renew_subscription":var t=u(this.props.user.premium_expires_at)-u(this.props.user.server_time);return t=Math.ceil(t/1e3/60/60/24),o.createElement(r,{id:"popup.home.news.premium.renew_subscription.copy",values:{num:t,renew_subscription:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-renew-subscription"}},o.createElement(r,{id:"popup.home.news.premium.renew_subscription.renew_subscription"}))}});case"free_get_premium":return o.createElement(r,{id:"popup.home.news.free.get_premium",values:{zenmate_premium:o.createElement("a",{href:"#",onClick:this._onPremiumClick},o.createElement(r,{id:"brand.zenmate_premium"}))}});case"free_faster_speed":return o.createElement(r,{id:"popup.home.news.free.faster_speed",values:{zenmate_premium:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-faster-speed"}},o.createElement(r,{id:"brand.zenmate_premium"}))}});case"free_smart_locations":return o.createElement(r,{id:"popup.home.news.free.smart_locations",values:{zenmate_premium:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-smart-locations"}},o.createElement(r,{id:"brand.zenmate_premium"}))}});case"free_more_locations":return o.createElement(r,{id:"popup.home.news.free.more_locations",values:{zenmate_premium:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-more-locations"}},o.createElement(r,{id:"brand.zenmate_premium"}))}});case"free_malware_blocking":return o.createElement(r,{id:"popup.home.news.free.malware_blocking.copy",values:{malware_blocking:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-malware-blocking"}},o.createElement(r,{id:"popup.home.news.free.malware_blocking.malware_blocking"}))}});case"free_desktop_clients":return o.createElement(r,{id:"popup.home.news.free.desktop_clients.copy",values:{desktop_clients:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-free-desktop-clients"}},o.createElement(r,{id:"popup.home.news.free.desktop_clients.desktop_clients"}))}});case"free_tracking_protection":return o.createElement(r,{id:"popup.home.news.free.tracking_protection",values:{zenmate_premium:o.createElement(l,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-banner",utm_campaign:"premium-promotion",utm_content:"feature-tracking-protection"}},o.createElement(r,{id:"brand.zenmate_premium"}))}})}},render:function(){return o.createElement("section",{className:"footer-news"},(this.props.news?this.props.news.text:void 0)?o.createElement(s,{content:this.props.news.text}):o.createElement("div",{className:"news-content"},this._getMessage(this.props.randomNews)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../background/util":7,"../../../events":9,"../../../link":10,"./news":29}],20:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React:void 0!==e?e.React:null,i=o.PropTypes,r="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,s=r.FormattedMessage,a=n.createClass({displayName:"ConnectionDisplay",propTypes:{type:i.string.isRequired,user:i.object.isRequired,tabInfo:i.object.isRequired,countryNames:i.object.isRequired,currentLocation:i.object.isRequired},getInitialState:function(){return{faviconUrl:""}},componentDidMount:function(){this.updateFavicon(this.props.tabInfo.favIconUrl)},componentWillReceiveProps:function(e){e.tabInfo.favIconUrl!==this.props.tabInfo.favIconUrl&&this.updateFavicon(e.tabInfo.favIconUrl)},render:function(){var e=this.props,t=e.type,o=e.countryNames,i=e.currentLocation,r=e.user,a=e.tabInfo;return n.createElement("div",{className:"connection-details "+t},n.createElement("div",{className:"text text-1"}),n.createElement("div",{className:"text text-2"}),n.createElement("div",{className:"mask"}),n.createElement("div",{className:"flag flag-user",style:{backgroundImage:"url('images/flags/"+r.country_code+".png')"}}),n.createElement("div",{className:"flag flag-location",style:{backgroundImage:"url('images/flags/"+i.country_code+".png')"}}),n.createElement("div",{className:"host",style:{backgroundImage:"url('"+this.state.faviconUrl+"')"}}),n.createElement("div",{className:"overlay overlay-user tt tt-conn tt-left"},n.createElement("span",{className:"overlay-content"},n.createElement("div",null,n.createElement(s,{id:"popup.home.enabled.overlay.real_location"})),n.createElement("div",{className:"space dark"},o[r.country_code]||r.country_name),n.createElement("div",null,"IP: ",r.current_ip))),n.createElement("a",{href:"#locations",className:"overlay overlay-location tt tt-conn switchLocation"},n.createElement("span",{className:"overlay-content"},n.createElement("div",null,n.createElement(s,{id:"popup.home.enabled.overlay.public_location"})),n.createElement("div",{className:"space dark"},o[i.country_code]),n.createElement("div",null,"(",n.createElement(s,{id:"popup.home.enabled.overlay.click_to_change"}),")"))),n.createElement("a",{href:"#rules",className:"overlay overlay-rules tt tt-conn tt-right"},n.createElement("span",{className:"overlay-content"},n.createElement("div",null,n.createElement(s,{id:"popup.home.enabled.overlay.current_page"})),n.createElement("div",{className:"space dark hostDomain"},a.host),n.createElement("div",null,"(",n.createElement(s,{id:"popup.home.enabled.overlay.edit_ondemand"}),")"))))},updateFavicon:function(e){var t=this;setTimeout(function(){return t.setState({faviconUrl:e})},0)}});t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("../../../../events"),a=e("../../../../link");t.exports=o.createClass({displayName:"BlockedDescription",propTypes:{proxyBlockedBy:o.PropTypes.array},_unblock:function(){return s.trigger("unblockProxySettings")},render:function(){var e=void 0;return o.createElement("div",{className:"fresh-air"},(e=o.createElement(a,{url:"chrome://extensions"},o.createElement(r,{id:"popup.home.blocked.extension_settings"})),this.props.proxyBlockedBy&&this.props.proxyBlockedBy.length?o.createElement(r,{id:"popup.home.blocked.extension",values:{extension_settings:e}}):o.createElement(r,{id:"popup.home.blocked.unknown",values:{extension_settings:e}})),this.props.proxyBlockedBy&&this.props.proxyBlockedBy.length?this.props.proxyBlockedBy.slice(0,1).map(function(e){return o.createElement("div",{className:"blocked-container"},o.createElement("br",null),e.icon?o.createElement("img",{className:"blocked-icon",src:""+e.icon}):void 0,o.createElement(a,{url:"chrome://extensions/",params:{id:e.id}},e.name))}):o.createElement("button",{onClick:this._unblock,className:"unblock-settings"},o.createElement(r,{id:"popup.home.blocked.unblock"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../events":9,"../../../../link":10}],22:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,i=o.FormattedMessage;t.exports=n.createClass({displayName:"CustomDescription",propTypes:{rulesEnabled:n.PropTypes.bool.isRequired,tabState:n.PropTypes.object.isRequired,tabInfo:n.PropTypes.object.isRequired,countryNames:n.PropTypes.object.isRequired,currentLocation:n.PropTypes.object.isRequired},render:function(){return this.props.rulesEnabled&&this.props.tabState.isDirect?n.createElement("span",null,n.createElement(i,{id:"popup.home.custom.directinfo"})):n.createElement(i,{id:"popup.home.custom.connection",values:{domain:n.createElement("strong",{className:"hostDomain",title:""+this.props.tabInfo.host},this.props.tabInfo.host),location:n.createElement("strong",null,this.props.countryNames[this.props.currentLocation.country_code])}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,i=o.FormattedMessage;t.exports=n.createClass({displayName:"CustomDisabledDescription",propTypes:{rulesEnabled:n.PropTypes.bool.isRequired,tabState:n.PropTypes.object.isRequired,tabInfo:n.PropTypes.object.isRequired,countryNames:n.PropTypes.object.isRequired,currentLocation:n.PropTypes.object.isRequired},render:function(){return this.props.rulesEnabled&&this.props.tabState.isDirect?n.createElement("span",null,n.createElement(i,{id:"popup.home.custom_disabled.directinfo"})):n.createElement(i,{id:"popup.home.custom_disabled.connection",values:{domain:n.createElement("strong",{className:"hostDomain",title:""+this.props.tabInfo.host},this.props.tabInfo.host),location:n.createElement("strong",null,this.props.countryNames[this.props.currentLocation.country_code])}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,i=o.FormattedMessage;t.exports=n.createClass({displayName:"DisabledDescription",propTypes:{rulesEnabled:n.PropTypes.bool.isRequired,rules:n.PropTypes.array.isRequired},render:function(){return n.createElement("div",{className:"fresh-air"},n.createElement("div",null,n.createElement(i,{id:"popup.home.disabled.copy2"})),this.props.rulesEnabled&&this.props.rules.length>0?n.createElement("div",null,n.createElement(i,{id:"popup.home.disabled.smart_locations_enabled",values:{smart_locations:n.createElement("a",{href:"#rules"},n.createElement(i,{id:"popup.home.disabled.smart_locations"}))}})):n.createElement("div",null,n.createElement(i,{id:"popup.home.disabled.smart_locations_disabled",values:{smart_locations:n.createElement("a",{href:"#rules"},n.createElement(i,{id:"popup.home.disabled.smart_locations"}))}})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,i=o.FormattedMessage;t.exports=n.createClass({displayName:"EnabledDescription",propTypes:{tabInfo:n.PropTypes.object.isRequired,countryNames:n.PropTypes.object.isRequired,currentLocation:n.PropTypes.object.isRequired},render:function(){return n.createElement(i,{id:"popup.home.enabled.connection",values:{domain:n.createElement("strong",{className:"hostDomain",title:""+this.props.tabInfo.host},this.props.tabInfo.host),location:n.createElement("strong",null,this.props.countryNames[this.props.currentLocation.country_code])}})}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t,n){(function(n){"use strict";function o(e){var t=e.type,n=e.proxyBlockedBy,o=e.rules,i=e.rulesEnabled,s=e.language,a=e.tabState,l=e.tabInfo,h=e.countryNames,g=e.currentLocation;switch(t){case"blocked":return r.createElement(u,{proxyBlockedBy:n});case"disabled":return r.createElement(p,{rules:o,rulesEnabled:i,language:s});case"local":return r.createElement(c,{id:"popup.home.local.connection"});case"custom_disabled":return r.createElement(f,{rulesEnabled:i,tabState:a,tabInfo:l,countryNames:h,currentLocation:g});case"custom":return r.createElement(m,{rulesEnabled:i,tabState:a,tabInfo:l,countryNames:h,currentLocation:g});default:return r.createElement(d,{tabInfo:l,countryNames:h,currentLocation:g})}}function i(e){var t=e.type,n=e.user,o=e.tabInfo,i=e.countryNames,s=e.currentLocation;return"disabled"!==t&&"blocked"!==t&&r.createElement(h,{user:n,type:t,tabInfo:o,countryNames:i,currentLocation:s})}var r="undefined"!=typeof window?window.React:void 0!==n?n.React:null,s="undefined"!=typeof window?window.React:void 0!==n?n.React:null,a=s.PropTypes,l="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,c=l.FormattedMessage,u=e("./blocked"),p=e("./disabled"),d=e("./enabled"),m=e("./custom"),f=e("./custom_disabled"),h=e("../connection-display"),g=function(e){return r.createElement("section",{className:"proxy-state "+e.type},r.createElement("div",{className:"connectedTo"},o(e)),i(e))};g.propTypes={tabState:a.object.isRequired,tabInfo:a.object.isRequired,currentLocation:a.object.isRequired,proxyBlockedBy:a.array,user:a.object.isRequired,rulesEnabled:a.bool.isRequired,rules:a.array.isRequired,countryNames:a.object.isRequired,type:a.string.isRequired,language:a.string.isRequired},t.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../connection-display":20,"./blocked":21,"./custom":22,"./custom_disabled":23,"./disabled":24,"./enabled":25}],27:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("./toggle_button"),a="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==n?n.React.addons.PureRenderMixin:null;t.exports=o.createClass({displayName:"Footer",propTypes:{enabled:o.PropTypes.bool.isRequired,language:o.PropTypes.string.isRequired},mixins:[a],render:function(){return o.createElement("footer",null,o.createElement("ul",{className:"nav"},o.createElement("li",null,o.createElement("a",{href:"#locations"},o.createElement("img",{className:"nav-icon",src:"images/changeLocationIcon.png",srcSet:"images/changeLocationIcon@2x.png 2x"}),o.createElement(r,{id:"popup.home.footer.change_location"}))),o.createElement("li",null,o.createElement("a",{href:"#features"},o.createElement("img",{className:"nav-icon",src:"images/featuresIcon.png",srcSet:"images/featuresIcon@2x.png 2x"}),o.createElement(r,{id:"popup.home.footer.features"}))),o.createElement("li",null,o.createElement("a",{href:"#settings",id:"settings-button"},o.createElement("img",{className:"nav-icon",src:"images/settingsIcon.png",srcSet:"images/settingsIcon@2x.png 2x"}),o.createElement(r,{id:"popup.home.footer.settings"}))),o.createElement(s,{enabled:this.props.enabled})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./toggle_button":32}],28:[function(e,t,n){(function(n){"use strict";function o(e){var t=e.proxyBlocked,n=e.rulesEnabled,o=e.tabState,i=e.enabled;return t?"blocked":n&&o.isRuleActive?i?"custom":"custom_disabled":i?o.isLocal?"local":"enabled":"disabled"}var i="undefined"!=typeof window?window.React:void 0!==n?n.React:null,r="undefined"!=typeof window?window.React:void 0!==n?n.React:null,s=r.PropTypes,a=e("../header"),l=e("./subhead"),c=e("./description"),u=e("./bottom"),p=e("./footer"),d=function(e){var t=o(e),n=e.header,r=e.device,s=e.routes,d=e.user,m=e.language,f=e.enabled,h=e.tabState,g=e.tabInfo,y=e.countryNames,v=e.currentLocation,w=e.rules,b=e.rulesEnabled,E=e.proxyBlockedBy,R=e.randomNews,_=e.features,N=e.news;return i.createElement("div",{id:"home"},i.createElement(a,{header:n,device:r,routes:s,is_premium:d.is_premium}),i.createElement(l,{type:t,language:m}),i.createElement(c,{type:t,user:d,tabState:h,tabInfo:g,countryNames:y,currentLocation:v,rules:w,rulesEnabled:b,proxyBlockedBy:E,language:m}),i.createElement(u,{randomNews:R,features:_,device:r,rules:w,news:N,user:d,language:m}),i.createElement(p,{enabled:f,language:m}))};d.propTypes={routes:s.object.isRequired,enabled:s.bool.isRequired,tabState:s.object.isRequired,tabInfo:s.object.isRequired,currentLocation:s.object.isRequired,proxyBlocked:s.bool.isRequired,proxyBlockedBy:s.array,user:s.object.isRequired,device:s.object.isRequired,news:s.object,rulesEnabled:s.bool.isRequired,rules:s.array.isRequired,features:s.object.isRequired,language:s.string.isRequired},t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../header":17,"./bottom":19,"./description":26,"./footer":27,"./subhead":31}],29:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("./markdown_converter"),r="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==n?n.React.addons.PureRenderMixin:null;t.exports=o.createClass({displayName:"News",propTypes:{content:o.PropTypes.string.isRequired},mixins:[r],render:function(){return o.createElement("div",{className:"news-content"},o.createElement(i,{content:this.props.content}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./markdown_converter":30}],30:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o={links:/\[(.*?)\]\((.*?)\)/,images:/!\[(.*?)\]\((.*?)\)/,bold:/\*\*(.*?)\*\*/,italic:/\*(.*?)\*/,all:/!?\[.*?\]\(.*?\)|\*\*.*?\*\*|\*.*?\*/g};t.exports=n.createClass({displayName:"MarkdownConverter",propTypes:{content:n.PropTypes.string.isRequired},_markDownToJSX:function(e){var t=void 0;return(t=e.match(o.images))?t[1].length?n.createElement("a",{className:"img-link",target:"_blank",href:t[1]},n.createElement("img",{src:t[2],alt:"promotion",style:{maxHeight:"90px"}})):n.createElement("img",{src:t[2],alt:"promotion",style:{maxHeight:"90px"}}):(t=e.match(o.links))?n.createElement("a",{target:"_blank",style:{color:"#008ace"},href:t[2]},t[1]):(t=e.match(o.bold))?n.createElement("b",null,t[1]):(t=e.match(o.italic))?n.createElement("em",null,t[1]):void 0},render:function(){for(var e=this,t=void 0,i=[];t=o.all.exec(this.props.content);)i.push(t[0]);return n.createElement("div",null,this.props.content.split(o.all).map(function(t,o){var r=i[o]?e._markDownToJSX(i[o]):void 0;return[t?n.createElement("span",null,t):void 0,r]}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,i=o.FormattedMessage,r="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null;t.exports=n.createClass({displayName:"Subhead",propTypes:{type:n.PropTypes.string.isRequired},mixins:[r],render:function(){return n.createElement("section",{className:"subhead "+this.props.type},n.createElement("h1",{key:this.props.type,className:"protection-headline"},n.createElement(i,{id:"popup.home."+this.props.type+".heading"})),n.createElement("p",null,n.createElement(i,{id:"popup.home."+this.props.type+".copy"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("../../../events"),r="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==n?n.React.addons.PureRenderMixin:null;t.exports=o.createClass({displayName:"ToggleButton",propTypes:{enabled:o.PropTypes.bool.isRequired},mixins:[r],componentDidMount:function(){var e=this;return setTimeout(function(){return e.refs.switch.classList.add("animating")},200)},_toggleProxy:function(e){return i.trigger("toggleProxy",e.target.checked)},render:function(){return o.createElement("li",{id:"proxy_toggle_button"},o.createElement("label",null,o.createElement("input",{ref:"switch",onChange:this._toggleProxy,checked:this.props.enabled,id:"toggle-button",type:"checkbox",className:"ios-switch stateToggle onoffswitch-checkbox"}),o.createElement("div",{className:"switch switch-enabled"})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":9}],33:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("./settings/"),r=e("./home"),s=e("./locations/"),a=e("./features/"),l=e("./language"),c=e("./debug_page"),u=e("./rules/"),p=e("./crm/popup"),d=e("../../../../propTypes"),m="undefined"!=typeof window?window.React.addons.CSSTransitionGroup:void 0!==n?n.React.addons.CSSTransitionGroup:null;t.exports=o.createClass({displayName:"Popup",propTypes:{routes:o.PropTypes.object.isRequired,header:o.PropTypes.object.isRequired,enabled:o.PropTypes.bool.isRequired,tabState:o.PropTypes.object.isRequired,tabInfo:o.PropTypes.object.isRequired,currentLocation:o.PropTypes.object.isRequired,proxyBlocked:o.PropTypes.bool.isRequired,proxyBlockedBy:o.PropTypes.array,user:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,rulesEnabled:o.PropTypes.bool.isRequired,rules:o.PropTypes.array.isRequired,features:o.PropTypes.object.isRequired,countryNames:o.PropTypes.object.isRequired,country_code:o.PropTypes.string.isRequired,debug:o.PropTypes.object,defaultLocation:o.PropTypes.object.isRequired,favoriteLocations:o.PropTypes.array.isRequired,language:o.PropTypes.string.isRequired,locale_name:o.PropTypes.string.isRequired,locations:o.PropTypes.array.isRequired,messages:o.PropTypes.object.isRequired,news:o.PropTypes.any,crmPopUp:d.crmPopUp,randomNews:o.PropTypes.string},render:function(){var e=this;if(!this.props.user)return null;var t=function(){switch(e.props.routes.current){case"settings":return o.createElement(i,{header:e.props.header,device:e.props.device,routes:e.props.routes,user:e.props.user,language:e.props.language,smartPrice:e.props.smartPrice,debug:e.props.debug,messages:e.props.messages});case"locations":return o.createElement(s,{header:e.props.header,device:e.props.device,routes:e.props.routes,is_premium:e.props.user.is_premium,locations:e.props.locations,defaultLocation:e.props.defaultLocation,favoriteLocations:e.props.favoriteLocations,rulesEnabled:e.props.rulesEnabled,tabState:e.props.tabState,currentLocation:e.props.currentLocation,countryNames:e.props.countryNames,messages:e.props.messages});case"features":return o.createElement(a,{header:e.props.header,device:e.props.device,routes:e.props.routes,user:e.props.user,features:e.props.features,messages:e.props.messages});case"language":return o.createElement(l,{header:e.props.header,device:e.props.device,routes:e.props.routes,is_premium:e.props.user.is_premium,locale_name:e.props.locale_name,messages:e.props.messages});case"rules":return o.createElement(u,{header:e.props.header,device:e.props.device,routes:e.props.routes,is_premium:e.props.user.is_premium,locations:e.props.locations,defaultLocation:e.props.defaultLocation,rules:e.props.rules,rulesEnabled:e.props.rulesEnabled,tabState:e.props.tabState,tabInfo:e.props.tabInfo,currentLocation:e.props.currentLocation,countryNames:e.props.countryNames,messages:e.props.messages});case"debug":return o.createElement(c,{header:e.props.header,device:e.props.device,routes:e.props.routes,is_premium:e.props.user.is_premium,defaultLocation:e.props.defaultLocation,debug:e.props.debug});default:return o.createElement(r,e.props)}}();return this.props.crmPopUp?this.renderCRMPopUp():this.renderRoute(t)},renderCRMPopUp:function(){return o.createElement(p,{popUp:this.props.crmPopUp})},renderRoute:function(e){return o.createElement(m,{component:"div",transitionName:"popup-router",transitionEnterTimeout:425,transitionLeaveTimeout:400},o.createElement("div",{key:this.props.routes.current,className:"page "+(this.props.routes.direction||"right")},e))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../propTypes":8,"./crm/popup":13,"./debug_page":14,"./features/":16,"./home":28,"./language":34,"./locations/":35,"./rules/":38,"./settings/":45}],34:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.React:void 0!==n?n.React:null,r=i.PropTypes,s="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,a=s.FormattedMessage,l="undefined"!=typeof window?window.locales:void 0!==n?n.locales:null,c=l.locales,u=e("../../events"),p=e("./header"),d=function(e){var t=e.routes,n=e.device,i=e.header,r=e.locale_name,s=e.is_premium,l=Object.keys(c).map(function(e){var t=c[e];return o.createElement("li",{key:e,onClick:function(){return u.trigger("changeLanguage",e)}},t.locale_name,t.locale_name===r&&o.createElement("span",{className:"active-tick"},"✓"))});return o.createElement("div",{id:"languages"},o.createElement(p,{routes:t,device:n,header:i,is_premium:s,showBack:!0}),o.createElement("section",{className:"subhead"},o.createElement("div",{className:"text-center"},o.createElement("h1",{className:"location-headline"},o.createElement(a,{id:"popup.languages.heading"})),o.createElement("p",{className:"location-copy"},o.createElement(a,{id:"popup.languages.copy"})))),o.createElement("section",{className:"locale-section scroll-section"},o.createElement("ul",null,l)))};d.propTypes={routes:r.object.isRequired,device:r.object.isRequired,header:r.object.isRequired,locale_name:r.string.isRequired,is_premium:r.bool.isRequired},t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../events":9,"./header":17}],35:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("../header"),a=e("./location_item"),l=e("../../../events");t.exports=o.createClass({displayName:"Locations",propTypes:{routes:o.PropTypes.object.isRequired,header:o.PropTypes.object.isRequired,tabState:o.PropTypes.object.isRequired,currentLocation:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,rulesEnabled:o.PropTypes.bool.isRequired,countryNames:o.PropTypes.object.isRequired,defaultLocation:o.PropTypes.object.isRequired,favoriteLocations:o.PropTypes.array.isRequired,locations:o.PropTypes.array.isRequired,messages:o.PropTypes.object.isRequired,is_premium:o.PropTypes.bool.isRequired},getInitialState:function(){var e=this._sortLocations(this.props.locations,this.props.favoriteLocations,this.props.is_premium,this.props.currentLocation);return{custom_cc:"_unknown",transitionPending:!1,search:"",sortedLocations:e,filteredLocations:e}},componentWillReceiveProps:function(e){var t=this._sortLocations(e.locations,e.favoriteLocations,e.is_premium,e.currentLocation);return this.setState({sortedLocations:t,filteredLocations:this._filterLocations(t,e.countryNames,this.state.search)})},_sortLocations:function(e,t,n,o){var i=[],r=[],s=[],a=e.filter(function(e){return e.country_code!==o.country_code&&(-1!==t.indexOf(e.country_code)?(e.isFavorite=!0,
r.push(e),!1):e.premium_only&&!n?(i.push(e),!1):0!==e.nodes.length||(e.isDead=!0,s.push(e),!1))});return[].concat(r,a,i,s)},_filterLocations:function(e,t,n){var o=n.toLowerCase();return e.filter(function(e){var n=e.country_code.toLowerCase(),i=t[e.country_code].toLocaleLowerCase();return o===n||i.includes(o)})},shouldComponentUpdate:function(e,t){return!(this.state.transitionPending||(t?t.transitionPending:void 0))},handleChange:function(){return this.setState({custom_cc:this.refs.custom_cc.value||"_unknown"})},_setTransitionToPending:function(){return this.setState({transitionPending:!0})},addCustomLocation:function(){var e=this.refs.custom_cc,t=this.refs.custom_url;if(e.value&&t.value)return l.trigger("addCustomLocation",{cc:e.value,url:t.value}),t.value="",e.value="",this.setState({custom_cc:"_unknown"})},_handleSearch:function(e){return this.setState({search:e.target.value,filteredLocations:this._filterLocations(this.state.sortedLocations,this.props.countryNames,e.target.value)})},_resetSearch:function(){return this.setState({search:"",filteredLocations:this.state.sortedLocations})},render:function(){var e=this;return o.createElement("div",{id:"locations"},o.createElement(s,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.is_premium}),o.createElement("section",{className:"subhead location-subhead"},o.createElement("div",{className:"text-center"},o.createElement("h1",{className:"location-headline"},o.createElement(r,{id:"popup.locations.heading"})),o.createElement("p",{className:"location-copy"},o.createElement(r,{id:"popup.locations.copy"})),o.createElement("div",{className:"search-bar"},o.createElement("div",{className:"container"},o.createElement("img",{className:"icon",src:"images/search.svg",width:"16",height:"16",alt:"search-icon"}),o.createElement("input",{className:"search-field",type:"text",value:this.state.search,onChange:this._handleSearch,maxLength:"20"}),o.createElement("span",{className:"clear-button",onClick:this._resetSearch},"✖"))))),o.createElement("section",{className:"scroll-section locations-section"},this.state.sortedLocations?void 0:o.createElement("p",{className:"noLocations"},o.createElement(r,{id:"popup.locations.no_locations"})),o.createElement("ul",{className:"locations"},this.props.rulesEnabled&&this.props.tabState.isRuleActive?o.createElement("div",{className:"activerule-hint"},o.createElement(r,{id:"popup.locations.smart_locations_enabled"})):void 0,this.props.rulesEnabled&&this.props.tabState.isRuleActive?o.createElement("li",{className:"activerule"},o.createElement("a",{href:"#rules",style:{backgroundImage:"url('images/flags/"+this.props.currentLocation.country_code+".png')"}},o.createElement("span",{className:"location"},this.props.countryNames[this.props.currentLocation.country_code]),o.createElement("span",{className:"btn btn-rule"},o.createElement(r,{id:"popup.locations.location_item.current"})))):o.createElement(a,{key:this.props.defaultLocation.country_code,_setTransitionToPending:this._setTransitionToPending,location:this.props.defaultLocation,is_premium:this.props.is_premium,countryNames:this.props.countryNames,defaultLocation:this.props.defaultLocation}),this.state.filteredLocations?this.state.filteredLocations.map(function(t){return o.createElement(a,{key:t.country_code,_setTransitionToPending:e._setTransitionToPending,location:t,is_premium:e.props.is_premium,countryNames:e.props.countryNames,defaultLocation:e.props.currentLocation})}):void 0,void 0)))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":9,"../header":17,"./location_item":36}],36:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=i.injectIntl,a=e("../../../events"),l=s(function(e){var t=e.intl;return o.createElement("span",{className:"location-dead-icon tooltip-left","data-tooltip":t.formatMessage({id:"popup.locations.location_item.out_of_service"})})});t.exports=o.createClass({displayName:"LocationItem",propTypes:{countryNames:o.PropTypes.object.isRequired,location:o.PropTypes.object.isRequired,defaultLocation:o.PropTypes.object.isRequired,is_premium:o.PropTypes.bool.isRequired},getInitialState:function(){return{premium_disabled:this.props.location.premium_only&&!this.props.is_premium,dead:0===this.props.location.nodes.length}},_toggleLocation:function(){return this.state.premium_disabled?a.trigger("header",{open:!0}):this.state.dead?void 0:(this.props._setTransitionToPending(),a.trigger("locations:change",this.props.location.country_code),a.trigger("toggleProxy",!0))},_toggleFavorite:function(e){return e.stopPropagation(),this.props.location.isFavorite?a.trigger("favoriteLocations:remove",this.props.location.country_code):a.trigger("favoriteLocations:add",this.props.location.country_code)},render:function(){var e=this.props.location;return o.createElement("li",{className:this.state.premium_disabled?"premium":this.state.dead?"dead":""},o.createElement("a",{onClick:this._toggleLocation,style:{backgroundImage:"url('images/flags/"+e.country_code+".png')"}},o.createElement("span",{className:"location"},this.props.countryNames[e.country_code]),o.createElement("span",{className:"favorite-location-toggle",onClick:this._toggleFavorite},e.isFavorite?o.createElement("span",{className:"favorite-location-star filled"}):o.createElement("span",{className:"favorite-location-star"})),this.props.defaultLocation.country_code===e.country_code?o.createElement("span",{className:"btn btn-primary"},o.createElement(r,{id:"popup.locations.location_item.current"})):this.state.premium_disabled?o.createElement("span",{className:"btn btn-premium"},o.createElement(r,{id:"popup.locations.location_item.premium"})):this.state.dead?o.createElement(l,null):o.createElement("span",{className:"btn btn-success"},o.createElement(r,{id:"popup.locations.location_item.choose"}))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":9}],37:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.ReactIntl:void 0!==e?e.ReactIntl:null,i=o.FormattedMessage;t.exports=n.createClass({displayName:"Hints",propTypes:{rulesEnabled:n.PropTypes.bool.isRequired,rules:n.PropTypes.array,active:n.PropTypes.number},render:function(){var e=this;return n.createElement("div",{className:"rule-hints-container"},function(){return e.props.rules&&0===e.props.rules.length?n.createElement("div",{key:1},n.createElement("img",{className:"logo",src:"images/smartLocations-emptyState.png",srcSet:"images/smartLocations-emptyState@2x.png"}),n.createElement("h3",null,n.createElement(i,{id:"popup.rules.hints.empty.heading"}),n.createElement("strong",null," ",n.createElement(i,{id:"popup.rules.name"}))),n.createElement("ol",{className:"circle-list"},n.createElement("li",null,n.createElement("span",{className:"num"},"1"),n.createElement(i,{id:"popup.rules.hints.empty.list_1"})),n.createElement("li",null,n.createElement("span",{className:"num"},"2"),n.createElement(i,{id:"popup.rules.hints.empty.list_2"})),n.createElement("li",null,n.createElement("span",{className:"num"},"3"),n.createElement(i,{id:"popup.rules.hints.empty.list_3"})))):e.props.rules&&1===e.props.rules.length&&!e.props.active?n.createElement("div",{className:"bordered",key:2},n.createElement("h4",null,n.createElement(i,{id:"popup.rules.hints.first.heading"})),n.createElement("p",null,n.createElement(i,{id:"popup.rules.hints.first.copy"}))):e.props.rules&&1===e.props.rules.length&&e.props.active?n.createElement("div",{className:"bordered",key:3},n.createElement("h4",null,n.createElement(i,{id:"popup.rules.hints.selected.heading"})),n.createElement("p",null,n.createElement(i,{id:"popup.rules.hints.selected.copy",values:{current_domain:n.createElement("span",{className:"hostDomain"},e.props.rules[0].domain)}}))):e.props.rules&&2===e.props.rules.length&&!e.props.rulesEnabled?n.createElement("div",{className:"bordered",key:4},n.createElement("h4",null,n.createElement(i,{id:"popup.rules.hints.disabled.heading"})),n.createElement("p",null,n.createElement(i,{id:"popup.rules.hints.disabled.copy"}))):void 0}())}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("../header"),a=e("./rule_box/"),l=e("./list"),c=e("./hints"),u=e("../../../events"),p=e("../../../../../background/pacengine/index"),d=e("punycode"),m=(e("loglevel"),"undefined"!=typeof window?window.React.addons.update:void 0!==n?n.React.addons.update:null);t.exports=o.createClass({displayName:"Rules",propTypes:{routes:o.PropTypes.object.isRequired,header:o.PropTypes.object.isRequired,tabState:o.PropTypes.object.isRequired,tabInfo:o.PropTypes.object.isRequired,currentLocation:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,rulesEnabled:o.PropTypes.bool.isRequired,rules:o.PropTypes.array.isRequired,countryNames:o.PropTypes.object.isRequired,defaultLocation:o.PropTypes.object.isRequired,locations:o.PropTypes.array.isRequired,messages:o.PropTypes.object.isRequired,is_premium:o.PropTypes.bool.isRequired},getInitialState:function(){var e="";return!this.props.tabState.isLocal&&this.props.tabInfo.host&&(e=this.props.tabInfo.host.replace(/^(www\.)/,"")),{host:e,selectedLocation:this.props.defaultLocation.country_code,activeRule:null}},getDefaultProps:function(){return{rules:[]}},componentDidMount:function(e,t){this._findRuleByHost(this.state.host)},componentWillReceiveProps:function(e){if(Number.isInteger(this.state.activeRule)&&e.rules.length>0){var t=this.state.activeRule;t>e.rules.length-1&&(t=this.state.activeRule-1),this._setActiveRule(t)}(0===e.rules.length||e.rules.length>this.props.rules.length)&&this._resetActiveRule()},_handleHostChange:function(e){this.setState({host:e}),this._findRuleByHost(e)},_handleLocationChange:function(e){Number.isInteger(this.state.activeRule)||this.setState({selectedLocation:e});var t=this.props.rules.slice();t[this.state.activeRule].cc=e,u.trigger("updateRules",t)},_handleActionTrigger:function(e){"SPAN"===e.target.tagName||"DIV"===e.target.tagName?Number.isInteger(this.state.activeRule)?this._deleteActiveRule():this._addRule():Number.isInteger(this.state.activeRule)?this._refreshRuleListUI():this._addRule()},_deleteActiveRule:function(){if(Number.isInteger(this.state.activeRule)){var e=this.props.rules.slice();e.splice(this.state.activeRule,1),u.trigger("updateRules",e)}},_addRule:function(){if(!this.state.host){var e=document.querySelector('input[type="text"].rule-host-input');return void(e&&e.focus())}var t=this._cleanUpHost(this.state.host),n={domain:t,cc:this.state.selectedLocation},o=m(this.props.rules,{$push:[n]});u.trigger("updateRules",o)},_findRuleByHost:function(e){e=this._cleanUpHost(e);var t=p.matchRules(this.props.rules,e),n={activeRule:t};t&&(n.selectedLocation=this.props.rules[t].cc),this.setState(n)},_cleanUpHost:function(e){if(!e)return"";var t=e.trim().toLowerCase();return t=this.parseURL(t).host||t,t.indexOf("/")>0&&(t=this.parseURL("http://"+t).host||t),t=d.toASCII(t)},_handleRuleToggleChange:function(e){this.props.is_premium?u.trigger("toggleRules",e.target.checked):u.trigger("header",{open:!0})},_refreshRuleListUI:function(){this.setState({activeRule:this.state.activeRule})},_setActiveRule:function(e){Number.isInteger(e)||this._resetActiveRule(),this.setState({host:this.props.rules[e].domain,selectedLocation:this.props.rules[e].cc,activeRule:e})},_handleBackgroundClick:function(){Number.isInteger(this.state.activeRule)&&this._resetActiveRule()},_resetActiveRule:function(){this.setState({host:null,selectedLocation:this.props.defaultLocation.country_code,activeRule:null})},parseURL:function(e){var t=void 0,n=/^([^:]+):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i,o=e.match(n);return o?{scheme:o[1].toLowerCase(),host:o[2].toLowerCase(),port:o[3],path:o[4]||"/",fragment:o[5],local:(t=o[1].toLowerCase(),!["http","https"].includes(t))}:{}},render:function(){return o.createElement("div",{id:"rules"},o.createElement(s,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.is_premium}),o.createElement("div",{className:"rule-container"},o.createElement(a,{rules:this.props.rules,host:this.state.host,locations:this.props.locations,countryNames:this.props.countryNames,selectedLocation:this.state.selectedLocation,actionIntent:Number.isInteger(this.state.activeRule)?"delete":"add",onActionTrigger:this._handleActionTrigger,onHostChange:this._handleHostChange,onLocationChange:this._handleLocationChange}),o.createElement("section",{className:"scroll-section rule-list-section "+(this.props.rulesEnabled?"":"disabled"),onClick:this._handleBackgroundClick},o.createElement(l,{rules:this.props.rules,active:this.state.activeRule,setActiveRule:this._setActiveRule,resetActiveRule:this._resetActiveRule}),o.createElement(c,{rulesEnabled:this.props.rulesEnabled,rules:this.props.rules,active:this.state.activeRule})),o.createElement("footer",{className:"rule-footer"},o.createElement("label",{className:"rule-toggle-label",htmlFor:"rule-toggle"},this.props.rulesEnabled?o.createElement(r,{id:"popup.rules.toggle_on"}):o.createElement(r,{id:"popup.rules.toggle_off"})),o.createElement("label",{className:"flat-switch"},o.createElement("input",{id:"rule-toggle",onChange:this._handleRuleToggleChange,checked:this.props.rulesEnabled,type:"checkbox",className:"flat-switch-checkbox"}),o.createElement("div",{className:"flat-toggle"})))))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../background/pacengine/index":6,"../../../events":9,"../header":17,"./hints":37,"./list":39,"./rule_box/":42,loglevel:1,punycode:2}],39:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=(e("loglevel"),"undefined"!=typeof window?window.React.addons.CSSTransitionGroup:void 0!==n?n.React.addons.CSSTransitionGroup:null);t.exports=o.createClass({displayName:"RulesList",propTypes:{rules:o.PropTypes.array,active:o.PropTypes.number,setActiveRule:o.PropTypes.func.isRequired,resetActiveRule:o.PropTypes.func.isRequired},componentDidUpdate:function(e,t){var n=this.props.active;this.props.rules.length>e.rules.length&&(n=this.props.rules.length-1),Number.isInteger(n)&&this._scrollToItem(n),Number.isInteger(e.active)&&Number.isInteger(this.props.active)&&e.active===this.props.active&&this._markItemAsUpdated(n)},_handleClick:function(e,t){if(t.stopPropagation(),this.props.active===e)return this.props.resetActiveRule();this.props.setActiveRule(e)},_scrollToItem:function(e){var t=this.refs[e];t&&t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t&&t.scrollIntoView(!1)},_markItemAsUpdated:function(e){var t=this.refs[e],n=function e(){t.removeEventListener("webkitAnimationEnd",e,!1),t.removeEventListener("animationend",e,!1),t.classList.remove("-updated")};t.addEventListener("webkitAnimationEnd",n,!1),t.addEventListener("animationend",n,!1),t.classList.add("-updated")},render:function(){var e=this,t=function(){for(var t=[],n=0;n<e.props.rules.length;n++){var i=e.props.rules[n],r=e.props.active===n?"-selected":"";t.push(o.createElement("div",{key:i.domain,className:"list-item"},o.createElement("div",{key:n,ref:n,className:"rule-item "+r,onClick:e._handleClick.bind(e,n)},o.createElement("div",{className:"favicon",style:{backgroundImage:"url('https://www.google.com/s2/favicons?domain="+i.domain+"')"}},i.domain),o.createElement("div",{className:"flag",style:{backgroundImage:"url('images/flags/"+i.cc+".png')"}}))))}return t}();return o.createElement(i,{component:"div",transitionEnterTimeout:300,transitionLeaveTimeout:300,className:"rule-list "+(this.props.active?"hasSelected":""),transitionName:"list-item"},t)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],40:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null;t.exports=n.createClass({displayName:"ActionsRuleBox",propTypes:{host:n.PropTypes.string,intent:n.PropTypes.string.isRequired,onActionTrigger:n.PropTypes.func.isRequired},contextTypes:{intl:n.PropTypes.object.isRequired},mixins:[o],_handleKeyDown:function(e){if(13===e.nativeEvent.keyCode)return this.props.onActionTrigger(e)},render:function(){var e=this.context.intl.formatMessage({id:"popup.rules.button.add"});return this.props.host&&(e=this.context.intl.formatMessage({id:"popup.rules.button.add_host"},{site:this.props.host})),"add"!==this.props.intent&&(e=this.context.intl.formatMessage({id:"popup.rules.button.remove_host"},{site:this.props.host})),n.createElement("div",{className:"rule-actions"},n.createElement("div",{className:"fab rule-action-"+this.props.intent,tabIndex:"3",onClick:this.props.onActionTrigger,onKeyDown:this._handleKeyDown,title:e},n.createElement("span",{className:"icon-add"},"+")))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=(e("loglevel"),"undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==n?n.React.addons.PureRenderMixin:null);t.exports=o.createClass({displayName:"HostRuleBox",propTypes:{host:o.PropTypes.string,onHostChange:o.PropTypes.func.isRequired,onActionTrigger:o.PropTypes.func.isRequired},contextTypes:{intl:o.PropTypes.object.isRequired},mixins:[i],getDefaultProps:function(){return{host:""}},getInitialState:function(){return{inputWidth:0,maxWidth:0}},componentDidMount:function(){return this._updateFavicon(),this._setMaxWidth(),this._setInputWidth(),this._placeCaretAtEnd()},componentDidUpdate:function(e,t){if(e.host!==this.props.host&&(this._setInputWidth(),(this.props.host&&this.props.host.indexOf(".")>0||e&&e.host&&e.host.indexOf(".")>0)&&this._updateFavicon()),!this.props.host&&e.host)return this._placeCaretAtEnd()},_handleKeyDown:function(e){if(13===e.nativeEvent.keyCode&&this.props.onActionTrigger(e),32===e.nativeEvent.keyCode||13===e.nativeEvent.keyCode)return e.preventDefault()},_handleChange:function(e){var t=e.target.value;return this.props.onHostChange(t)},_setMaxWidth:function(){var e=this.refs.container.parentElement,t=e.offsetWidth,n=!0,o=!1,i=void 0;try{for(var r,s=e.children[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){t-=r.value.offsetWidth}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}this.setState({maxWidth:t});var a=window.getComputedStyle(this.refs.input),l=this.refs.tmp;return l.style.fontSize=a.fontSize,l.style.fontFamily=a.fontFamily},_setInputWidth:function(){var e=this.props.host;e||(e=this.context.intl.formatMessage({id:"popup.rules.nlp.host.placeholder"}));var t=this.refs.tmp;return t.textContent=e,this.setState({inputWidth:t.offsetWidth+5})},_updateFavicon:function(){return this.refs.container.style.backgroundImage="url('https://www.google.com/s2/favicons?domain="+(this.props.host||this.context.intl.formatMessage({id:"popup.rules.nlp.host.placeholder"}))+"')"},_placeCaretAtEnd:function(){var e=this.refs.input;e.focus();var t=e.value.length;return e.setSelectionRange(t,t)},render:function(){return o.createElement("div",{className:"rule-host",ref:"container"},o.createElement("input",{type:"text",className:"rule-host-input",spellCheck:"false",placeholder:this.context.intl.formatMessage({id:"popup.rules.nlp.host.placeholder"}),onChange:this._handleChange,onKeyDown:this._handleKeyDown,tabIndex:"1",ref:"input",style:{maxWidth:this.state.maxWidth,width:this.state.inputWidth},value:this.props.host?this.props.host.toLowerCase():""}),o.createElement("span",{className:"tmpHidden",ref:"tmp"}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],42:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("./host"),a=e("./location"),l=e("./actions");t.exports=o.createClass({displayName:"RuleBox",propTypes:{host:o.PropTypes.string,onHostChange:o.PropTypes.func.isRequired,onLocationChange:o.PropTypes.func.isRequired,onActionTrigger:o.PropTypes.func.isRequired,selectedLocation:o.PropTypes.string.isRequired,locations:o.PropTypes.array.isRequired,actionIntent:o.PropTypes.string.isRequired,countryNames:o.PropTypes.object},render:function(){return o.createElement("div",{id:"rule-box"},o.createElement("div",{className:"nlp-container"},o.createElement("div",{className:"nlp"},o.createElement("div",{className:"nlp-text"},o.createElement(r,{id:"popup.rules.nlp.host._pre",defaultMessage:" "})),o.createElement(s,{host:this.props.host,onHostChange:this.props.onHostChange,onActionTrigger:this.props.onActionTrigger}),o.createElement("div",{className:"nlp-text"},o.createElement(r,{id:"popup.rules.nlp.host._post",defaultMessage:" "}))),o.createElement("div",{className:"nlp"},o.createElement("div",{className:"nlp-text"},o.createElement(r,{id:"popup.rules.nlp.location._pre",defaultMessage:" "})),o.createElement(a,{locations:this.props.locations,countryNames:this.props.countryNames,selectedLocation:this.props.selectedLocation,onLocationChange:this.props.onLocationChange,onActionTrigger:this.props.onActionTrigger}),o.createElement("div",{className:"nlp-text"},o.createElement(r,{id:"popup.rules.nlp.location._post",defaultMessage:" "})))),o.createElement(l,{intent:this.props.actionIntent,host:this.props.host,onActionTrigger:this.props.onActionTrigger}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions":40,"./host":41,"./location":43}],43:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null;e("loglevel");t.exports=o.createClass({displayName:"LocationRuleBox",propTypes:{selectedLocation:o.PropTypes.string.isRequired,locations:o.PropTypes.array.isRequired,onActionTrigger:o.PropTypes.func.isRequired,onLocationChange:o.PropTypes.func,countryNames:o.PropTypes.object},contextTypes:{intl:o.PropTypes.object.isRequired},componentDidMount:function(){return this._updateFlag(),this._setSelectWidth()},componentDidUpdate:function(e,t){if(e.selectedLocation!==this.props.selectedLocation)return this._updateFlag(),this._setSelectWidth()},_handleKeyDown:function(e){if(13===e.nativeEvent.keyCode)return this.props.onActionTrigger(e)},_handleChange:function(e){var t=e.target.value;return this.props.onLocationChange(t)},_setSelectWidth:function(){var e=this.refs.select,t=e.options[e.selectedIndex].label,n=this.refs.tmp;return n.textContent=t,e.style.width=n.offsetWidth+10+"px"},_updateFlag:function(){var e=this.props.selectedLocation,t="url('images/flags/"+e+".png')";return this.refs.container.style.backgroundImage=t},render:function(){var e=this;return o.createElement("div",{className:"rule-location",ref:"container"},o.createElement("select",{tabIndex:"2",ref:"select",value:this.props.selectedLocation,onKeyDown:this._handleKeyDown,onChange:this._handleChange},this.props.locations?this.props.locations.map(function(t){return o.createElement("option",{key:t.country_code,value:t.country_code},e.props.countryNames[t.country_code])}):void 0,o.createElement("option",{disabled:!0,className:"separator"},"──────────"),o.createElement("option",{value:"OFF"},this.context.intl.formatMessage({id:"popup.rules.nlp.location.off"}))),o.createElement("span",{className:"tmpHidden",ref:"tmp"}))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{loglevel:1}],44:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React:void 0!==e?e.React:null,i=o.PropTypes,r="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null,s=n.createClass({displayName:"ClickItem",mixins:[r],propTypes:{label:i.string.isRequired,onClick:i.func.isRequired},render:function(){var e=this.props,t=e.label,o=e.onClick;return n.createElement("li",{className:"click-item",onClick:o},t)}});t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i="undefined"!=typeof window?window.ReactIntl:void 0!==n?n.ReactIntl:null,r=i.FormattedMessage,s=e("../../../events"),a=e("../header"),l=e("./settings_category"),c=(e("./input_item"),e("./click_item")),u=e("./toggle_item"),p=e("./link_item"),d=e("./nav_item");t.exports=o.createClass({displayName:"Settings",propTypes:{routes:o.PropTypes.object.isRequired,header:o.PropTypes.object.isRequired,user:o.PropTypes.object.isRequired,device:o.PropTypes.object.isRequired,smartPrice:o.PropTypes.bool.isRequired,debug:o.PropTypes.object,messages:o.PropTypes.object.isRequired,language:o.PropTypes.string.isRequired},contextTypes:{intl:o.PropTypes.object.isRequired},changeAPIUrl:function(e){return s.trigger("changeAPIUrl",e),s.trigger("signOut")},reset:function(){return s.trigger("reset")},confirmAccount:function(){return s.trigger("confirmAccount")},signOut:function(){return s.trigger("signOut")},switchSmartPrice:function(){return s.trigger("switchSmartPrice",!this.props.smartPrice)},render:function(){var e=this.context.intl.formatMessage({id:"popup.settings.account.title"})+" "+(this.props.user.is_anonymous?"":"("+this.props.user.email+")");return o.createElement("div",{id:"settings"},o.createElement(a,{showBack:!0,header:this.props.header,device:this.props.device,routes:this.props.routes,is_premium:this.props.user.is_premium}),o.createElement("section",{className:"subhead"},o.createElement("div",{className:"text-center"},o.createElement("h1",{className:"location-headline"},o.createElement(r,{id:"popup.settings.heading"})),o.createElement("p",{className:"location-copy"},o.createElement(r,{id:"popup.settings.copy"})))),o.createElement("section",{className:"settings-section scroll-section"},o.createElement(l,{title:e},o.createElement(c,{onClick:this.signOut,label:this.context.intl.formatMessage({id:"popup.settings.account.sign_out"})}),this.props.user.is_premium?void 0:o.createElement(p,{url:"account/premium",params:{utm_medium:"product",utm_source:"extension-menu",utm_content:"premium-link"},label:this.context.intl.formatMessage({id:"popup.settings.account.get_premium"})}),this.props.user.is_anonymous||this.props.user.is_verified?void 0:o.createElement(c,{onClick:this.confirmAccount,label:this.context.intl.formatMessage({id:"popup.settings.account.verify"})}),this.props.user.is_anonymous?void 0:o.createElement(p,{url:"account/dashboard/summary",params:{utm_medium:"product",utm_source:"extension-menu",utm_content:"dashboard-link"},label:this.context.intl.formatMessage({id:"popup.settings.account.account_dashboard"})})),o.createElement(l,{title:this.context.intl.formatMessage({id:"popup.settings.general.title"})},o.createElement(p,{url:"https://zenguard.zendesk.com/hc/en-us",params:{utm_medium:"product",utm_source:"extension-menu",utm_content:"support-link"},label:this.context.intl.formatMessage({id:"popup.settings.general.support"})}),o.createElement(d,{link:"#language",label:this.context.intl.formatMessage({id:"popup.settings.general.change_language"})}),"Firefox"!==this.props.device.platform.platform_name?o.createElement(u,{label:"SmartPrice",onChange:this.switchSmartPrice,enabled:this.props.smartPrice}):void 0),void 0))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../events":9,"../header":17,"./click_item":44,"./input_item":46,"./link_item":47,"./nav_item":48,"./settings_category":49,"./toggle_item":50}],46:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null;t.exports=n.createClass({displayName:"InputItem",propTypes:{label:n.PropTypes.string.isRequired,onClick:n.PropTypes.func,button:n.PropTypes.bool,value:n.PropTypes.string},getInitialState:function(){return{value:this.props.value}},willReceiveProps:function(){return this.setState({value:this.props.value})},onChange:function(){return this.setState({value:this.refs.input.value})},onClick:function(){return"function"==typeof this.props.onClick?this.props.onClick(this.refs.input.value):void 0},render:function(){return n.createElement("li",null,n.createElement("label",null,this.props.label),n.createElement("input",{value:this.state.value,onChange:this.onChange,ref:"input"}),this.props.button?n.createElement("button",{onClick:this.onClick},"Submit"):void 0)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.React:void 0!==n?n.React:null,i=e("../../../link"),r="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==n?n.React.addons.PureRenderMixin:null;t.exports=o.createClass({displayName:"LinkItem",mixins:[r],propTypes:{label:o.PropTypes.string.isRequired},render:function(){return o.createElement(i,Object.assign({},this.props),o.createElement("li",{className:"click-item"},this.props.label))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../link":10}],48:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null;t.exports=n.createClass({displayName:"NavigationItem",mixins:[o],propTypes:{link:n.PropTypes.string.isRequired,label:n.PropTypes.string.isRequired},render:function(){return n.createElement("a",{href:this.props.link},n.createElement("li",{className:"click-item"},this.props.label))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null;t.exports=n.createClass({displayName:"SettingsCategory",mixins:[o],propTypes:{title:n.PropTypes.string.isRequired},render:function(){return n.createElement("div",{className:"settings-category"},n.createElement("h3",null,this.props.title),n.createElement("ul",null,this.props.children))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t,n){(function(e){"use strict";var n="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o="undefined"!=typeof window?window.React.addons.PureRenderMixin:void 0!==e?e.React.addons.PureRenderMixin:null;t.exports=n.createClass({displayName:"ToggleItem",mixins:[o],propTypes:{label:n.PropTypes.string.isRequired,onChange:n.PropTypes.func.isRequired,enabled:n.PropTypes.bool.isRequired},render:function(){
return n.createElement("li",{className:"toggle-item"},n.createElement("label",null,this.props.label),n.createElement("label",{className:"toggle"},n.createElement("input",{onChange:this.props.onChange,checked:this.props.enabled,type:"checkbox",className:"ios-switch stateToggle onoffswitch-checkbox"}),n.createElement("div",{className:"switch "+(this.props.enabled?"switch-enabled":"switch-disabled")})))}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(e,t,n){(function(e){"use strict";var t="undefined"!=typeof window?window.Bacon:void 0!==e?e.Bacon:null;n.router=function(e){return e||(e="home"),t.fromEvent(window,"hashchange").bufferingThrottle(500).merge(t.once()).map(function(){return location.hash&&location.hash.slice(1)}).scan({stack:[e],direction:"right"},function(e,t){t=t||"home";var n=e.stack.indexOf(t);return~n?(e.direction="left",e.stack=e.stack.slice(0,n+1)):(e.direction="right",e.stack.push(t)),e}).skip(1).map(function(e){return{direction:e.direction,current:e.stack[e.stack.length-1],previous:e.stack[e.stack.length-2]}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(e,t,n){"use strict";function o(e){s=e}function i(e){var t=e.split("?"),n=r(t,2),o=n[0],i=n[1];return"https://geo.zenmate.com/"+o+"."+s+(i?"?"+i:"")}var r=function(){function e(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="en";t.exports={setLocale:o,getUrl:i}},{}]},{},[12]);